# Nginx + Uvicorn/Gunicorn



## 주요 개념

- ### **포트(Port)**
  
  - 서버 내에서 네트워크 서비스를 구분하기 위한 번호
  
  - 하나의 포트는 한 시점에 하나의 프로세스만 사용 가능
  
  - 외부에서 특정 서비스에 접속할 때 포트를 지정하여 접근

    - 80: HTTP 기본 포트  
    - 443: HTTPS 기본 포트  
    - 8000: uvicorn 기본 포트
    - 기타 포트는 0~65535 범위 내에서 자유롭게 사용 가능하나 개발자들이 암묵적으로 쓰는 규칙은 있음
  
    
  
- ### **프록시(Proxy)**
  
  - 클라이언트와 서버 사이에서 요청을 대신 받아 처리해주는 서버
  - proxy의 종류
    - Forward Proxy : 서버 내부 사용자가 외부에 요청할 때 대신 요청을 처리
    - Reverse Proxy : 외부 사용자가 서버에 요청을 보내면 대신 내부서버에 요청을 보내고 결과 반환
  - 보안성, 성능(속도), 확장성 개선에 기여
  
  

- ### **HTTP와 HTTPS**
  
  - HTTP: 암호화되지 않은 평문 통신
  - HTTPS: SSL/TLS를 사용하여 암호화된 통신 제공
  - HTTPS 적용을 위해 SSL 인증서 필요
  
  
  
- ### **퍼블릭 IP와 프라이빗 IP**
  
  - 퍼블릭 IP: 외부 인터넷에서 접속 가능한 주소
  - 프라이빗 IP: 내부 네트워크에서만 접근 가능한 주소
  - 클라우드 환경에서는 보통 퍼블릭 IP를 도메인과 연결
  



## Nginx

- 고성능 **Reverse Proxy** 서버

- static files 제공, 로드 밸런싱, SSL 처리 등 다양한 기능 지원

- 운영 환경에서 애플리케이션 서버(uvicorn/gunicorn) 앞단에 위치하여 요청 관리

  

### 주요 역할

- **SSL/TLS 처리**
  - HTTPS 적용 시 인증서 관리 및 암호화 처리 담당
  - 앱 서버는 복잡한 SSL 설정 없이 내부 통신에 집중 가능
- **load balancing**
  - 여러 백엔드 서버로 트래픽을 분산시켜 성능과 안정성 향상
- **빠른 static files 제공**
  - C언어 사용 + 이벤트 기반 처리 -> 작업 최적화
  - 캐싱/버퍼링 -> 네트워크 전송 최적화



## Uvicorn / Gunicorn

- python 웹 앱을 실행하는 애플리케이션 서버

- 직접 요청을 받는 것도 가능하지만, 보안/성능 등의 이유로 nginx 뒤에서 동작하는 경우가 많음
- 일반적으로 둘을 함께 활용하게 됨(비동기 실행 + 프로세스 관리)



### Uvicorn

- **ASGI** 서버
- 가볍고 빨라서 실시간 기능 구현에 적합

- FastAPI 등 **Async(비동기)** 기반 프레임워크 지원



### Gunicorn

- **WSGI** 서버
- 안정적인 프로세스 관리
- Django, Flask 등 **Sync(동기)** 기반 프레임워크 지원
- ASGI 서버(비동기 앱)도 실행 가능
