# DevOps 심화

- 기존에는 Infra / 

- CI / CD 중심으로 DevOps 좀 더 깊게 공부해볼건데.. 필요한 개념 얕게 한 바퀴 공부하고, 주요 Tool 실습해볼 것

- 개념 들어가기 전에, 나중에 써볼 tool들 역할별로 정리해둠



## 역할별 Tool 정리

- CI/CD 오케스트레이터(자동화 워크플로우) : Github Actions, GitLab CI, Jenkins

- 프로비저닝, IaC(클라우드 리소스 생성) : Terraform

- 설정 관리 : Ansible

- 컨테이너 오케스트레이션(배포) : Kubernetes, Helm, Argo CD

- Observability(가시성)

  - **Metrics** : Prometheus

    - 지표 기반 시계열 데이터 관측

  - **Logs** : ELK / EFK, Grafana Loki

    - 시스템이 남기는 텍스트(입력, 에러 등) 기록

  - **Traces** : Jaeger, Zipkin, OpenTelemetry

    - 요청이 여러 서비스를 거쳐 가는 흐름을 추적하며 병목 추적

    ##### AWS CloudWatch는 Metrics와 Logs를 동시에 커버함



## IaC : Infrastructure as Code

- 인프라 구성을 코드로 표현, 저장하여 재현성을 높임

### 구현 방식

- 선언적 접근 : 원하는 인프라의 최종 상태를 정의하고, 도구가 현재 상태와의 gap을 파악해 변경
- 명령적 접근 : 파이프라인을 정의하고 도구가 단계별로 명령을 실행

### 구현시 고려사항

- 보안 : 보안 구성은 명시적으로 코드에 포함시키되, 민감 정보가 포함되지 않도록 주의
- 모듈화 : 여러 서비스에서 공통적으로 사용되는 인프라 구성요소를 모듈화하고 재사용
- 문서화 : 코드 주석 및 README를 통해 구조와 사용법을 명확하게 안내



## Microservice Architecture

- 애플리케이션을 작고 독립적인 서비스의 집합으로 구성하는 설계 철학

### 장점

- 장애 격리 : 한 서비스에서 일어난 장애가 전체 시스템에 미치는 영향을 최소화
- 확장성 : 필요한 서비스만 선택적으로 확장 가능
- 비용효율성 : 유연한 확장(autoscaling)을 통해 운영 비용 감소
- 모니터링 / 로깅 효율화 : 서비스별로 세밀하게 모니터링과 로깅을 수행하고, 중앙화된 관리도 가능

### 구현시 고려사항

- 복잡성 관리 : 서비스간 의존성은 낮추고 독립된 형태로 API 호출을 통해 통신하도록 설계
- 데이터 일관성
  - 분산 트랜잭션 관리 : 여러 서비스에서 실행되는 작업이 모두 성공하거나 모두 실패하여 동기화되어야 함
  - 최종 일관성 모델 : 일시적인 비일관성을 허용하여 가용성과 확장성을 높이고, 시간이 흐른 후 전체적으로는 동기화 상태가 유지되도록 하는 방법론

- 성능 최적화
  - 서비스 간 통신량을 예측/측정하고 오버헤드를 고려하여 설계
  - 캐싱을 통해 처리 속도 개선
- 장애 대응
  - 서킷 브레이커 패턴 구현 : 실패가 일정량 이상 발생하면 모든 요청을 실패로 처리해서 문을 닫아버리고, 복구를 시도하여 성공하면 다시 문을 열어 주는 자동화 패턴
  - 블루-그린 배포, 카나리 배포 등과 함께 시행될 수 있는 롤백 메커니즘 구현 등



## 소감

- 보통 얼추 알고 있는 내용들을 체계화하는 경우가 많았어서 이렇게 내용 정리식으로 TIL을 쓰는게 되게 오랜만인 것 같다.
- 교재 따라가며 체계적으로 큰 흐름을 잡고 나서 이것저것 도구들 써보면서 실습하게 될 것
- 강의도 하고 싶긴 한데 내용 깊어질수록 내 준비시간도 많이 필요하고, 딥한 내용을 듣고 싶어 하는 학생도 줄어들 거라 가능할 지는 모르겠다.