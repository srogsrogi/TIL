# 중간 점검



## 현재 상황

- API 통해 받아온 데이터를 가공/활용하는 데 병목이 생겨서 전체적으로 작업이 정체된 상황
- 늦어도 추석 연휴 전인 금요일(오늘 포함 4일 남음)까지는 기능 개발을 위한 준비가 완료되어야 함.
  - 프론트-백-DB 연결되어 있는 서버 배포 및 기본 테스트(DB CRUD 등)
  - 기능 명세 및 화면설계서 작성 완료
    - 화면설계서 기반으로 html, css까지 다 완성돼있으면 더 좋고..
  - 앱 구조 확정 및 앱/기능별 역할 분담
  - 팀원 전체의 기능 개발 파이프라인에 대한 이해(특히 JS 아는 사람이 아직 아무도 없음)



##### 그래서 PM 중심으로 팀에게 요구사항 정리해서 전달함



## To PM

- 같이 수업했던 때는 html파일 하나만 fastapi로 서버 띄우고 MySQL DB 붙였는데..
- 프로젝트에서는 gunicorn으로 django 웹서버 실행하고 nginx도 따로 컨테이너에서 실행시킬 거라 새로 배워야 하는 것들이 있을 것
  - Docker compose로 컨테이너 3개(nginx, web, db) 같이 띄우기
    - t3.micro 쓰느라 RAM 모자랄 수 있으므로 컨테이너가 실행됐는데 돌다가 금방 꺼지면 메모리 스왑 / DB 최적화 시도해보기
  - Django `settings.py`에서 proxy header 등 nginx 관련 설정
  - 서비스 구조가 달라짐에 따라 포트 매핑 및 기타 보안 설정도 수업 때와 다른 부분이 생길 수 있음
  - 러닝 커브가 좀 있을테니 빠르게 시도해보고 막히는 부분 있으면 도움 요청할 것

- DB 배포하고 나면 admin 계정 등 개발용 계정 생성하고 사용법과 함께 팀에게 공유

- 팀원 전체적으로 JS 기초 실습이라도 해보면서, 기능 개발의 전체 과정을 짧게라도 경험하거나 머릿속에 그릴 수 있어야 함

##### 팀원들이 토요일에 vscode를 열었을 때, '그래서 이제 뭐 하지?'라는 생각이 들면 연휴 기간이 통째로 날아가기 십상입니다. 꼭 금요일까지 모든 팀원이 코드를 쓰기 시작할 수 있는 상태로 만들어주세요!



## To BE

- 현재 만들어 놓은 Django 프로젝트의 구조가 startproject, startapp 명령어로 만든 기본 구조와 다름
- config 파일, app 등을 별도의 디렉토리에서 관리하는 구조로서, 자주 활용되는 표준이지만 지금 정규 수업에서 다루는 구조와는 다르기 때문에 유의해야 함
  - `installed_app` 등록이나 기타 파일 참조하는 방식이 수업 때 배운 방식과 조금씩 달라질 수 있음을 인지할 것
  - 해당 내용 팀원에게 공유할 것



## 기타

- PM이 수업 때 배웠던 것만 가지고 3개의 컨테이너(django, mysql, nginx)를 실행하는 CI/CD 워크플로우를 뚝딱 만들어내는 건 좀 어려워서 고생하고 있음
- 그래도 알아서 EC2 ssh접속해서 이것저것 두들겨보고 nginx 설정파일 만지고 하는 거 보니까 불과 몇 달 전 내 모습이 겹쳐 보이기도 하고 뿌듯함
- cicd 워크플로우가
  - 코드 checkout해서 이미지 빌드/푸시하고
  - EC2 인스턴스에 ssh접속해서
  - .env를 만들고
  - 세 개의 컨테이너가 정의된 yml파일을 작성하고
  - docker compose 명령어를 실행하고
  - 필요한 설정파일들 수정하는 것까지
  - 전부 담당해줘야 한다는 큰 그림을 다시 그려줬음