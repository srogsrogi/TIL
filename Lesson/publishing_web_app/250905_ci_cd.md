# CI/CD



## 들어가기 전에..

##### 앞으로는 아~주 짧게라도 수업 피드백을 좀 요청드립니다..

- 수업이 좋았던 점이나 아쉬운 점
- 내가 잘 이해한 부분, 좀 어려워서 추가 학습이 필요한 부분
- 오늘 배운 내용을 어떻게 활용할 수 있을지

##### 	등등 한 줄만이라도 남겨봅시다.



##### 브랜치 그림과 함께 CI/CD의 워크플로우가 어느 시점에 어떻게 실행돼야 할지를 머릿속에 그려줌

- Continuous Integration
- Continuous Deploy / Delivery



## 강의

##### 수업자료 : `Infra/CI-CD/250814_CI_CD`

##### 귀에 딱지가 앉도록 CI/CD 얘기도 했고, Webhook 배우면서 Github Actions도 맛을 봤으니

##### 개념은 간단하게 훑고 실습 위주로 해볼텐데..

##### CD가 더 간단하니까 그걸 먼저 해보고, 파이프라인에 CI를 붙이는 순서로 진행합니다.



## 실습내용



### CD

- 메인 브랜치 보호 설정!
- CI/CD용 yml 파일 작성하기
  - Github에서 인식하도록 올바른 경로에 작성, 원격 repo 들어가서 인식 확인
  - `.github/workflows/*.yml`
- Github repo에 secret 변수 설정
  - DOCKERHUB_USERNAME
  - DOCKERHUB_TOKEN
  - EC2_HOST
  - EC2_USERNAME
  - EC2_SSH_KEY
    - begin, end행까지 빠짐 없이 복붙

- push(또는 pr-merge)하고 Actions에서 로그 확인
- 웹페이지 접속해서 적용여부 확인



### CI

- `requirements.txt`에 `ruff` 추가

- .yml파일 수정(새 거로 교체하고, CD만 있는 기존 파일은 레거시화)
- push하고 로그 확인 + 적용여부 확인

- 문법 오류 있는 상태로도 push하고 로그 확인해보기



## 다음 시간에는

- 웹서버에 mysql RDB 서버를 붙여볼 겁니다.
- DB를 붙이는 데에 아~주 많은 방법이 있을텐데.. 두 가지 방법으로 실습을 해볼 예정입니다.
  - AWS의 RDS 서비스를 이용하는 것 | 도커 컨테이너에서 직접 서버를 실행하는 것