# 참조 복사 | 얕은 복사 | 깊은 복사

## 

- 참조복사(단순 할당)

  ```python
  a = [1, 2, 3]
  b = a
  a.append(4)
  print(b) # [1, 2, 3, 4]
  ```

  - `b = a` 처럼 할당하면, b는 a의 값이 아니라 참조하고 있는 주소를 할당받는다.
  - a에 어떤 조작을 하면 b에도 그대로 적용됨
  - a = [1, 2, 3, 4] 이런 식으로 아예 재할당하면 a가 바라보는 참조는 바뀌지만, b는 이전에 할당받을 때 a가 가리키던 주소를 그대로 참조하기 때문에 b는 변하지 않는다.

- 얕은 복사

  ```python
  import copy
  a = [[1,2,3], [4,5,6]]
  b = copy.copy(a)
  a[0][2] = '삼'
  print(b) # [[1, 2, '삼'],[4, 5, 6]]
  ```

  - 얕은 복사는 중첩 구조에서 각 요소의 주소를 참조하여 복사하기 때문에, mutable한 요소의 값이 변하면 복사본의 값도 변한다.
  - append, remove, pop 등 리스트 겉 구조를 바꾸는 메소드들은 당연히 복사본에 영향을 주지 않는다.

- 깊은 복사

  ```python
  a = [[1,2,3], [4,5,6]]
  b = copy.deepcopy(a)
  a[0][2] = '삼'
  print(b) # [[1,2,3],[4,5,6]]
  ```

  - 깊은 복사는 복사하는 순간 내부에 있는 모든 요소의 값을 재귀적으로 복사하기 때문에 원본과는 완전히 분리된 객체가 된다.

- 요소가 immutable 객체일 경우 얕은 복사든 깊은 복사든 결과값이 같기 때문에 메모리 효율성을 높이기 위해 얕은 복사를 쓰도록 한다.

## 요약

- 참조 복사는 같은 객체를 바라보는 것이고,
- 얕은 복사는 겉만 새로 만들고 내부는 공유하며,
- 깊은 복사는 내부까지 통째로 복제해서 완전히 독립된 객체를 만든다.